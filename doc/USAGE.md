# 사용 가이드 (User Guide)

본 문서는 Mobile Laser Pointer 앱의 사용 방법을 단계별로 설명합니다.

---

## 1. 앱 시작하기

### 1-1. PC (수신기) 앱 실행

1. PC에서 Flutter 프로젝트를 실행합니다:
   ```bash
   # Windows
   flutter run -d windows
   
   # macOS
   flutter run -d macos
   ```

2. 앱이 실행되면 **설정 화면**이 표시됩니다.
   - 화면 왼쪽: 현재 PC의 IP 주소가 포함된 **QR 코드**가 표시됩니다.
   - 화면 오른쪽: 사용 가능한 **모니터 선택** 드롭다운이 표시됩니다.

3. **모니터 선택** (선택사항):
   - 여러 모니터가 연결된 경우, 드롭다운에서 원하는 모니터를 선택할 수 있습니다.
   - 선택한 모니터에 포인터가 표시됩니다.

4. **포인터 옵션 설정** (선택사항):
   - 화면 상단의 설정 아이콘(⚙️)을 클릭하여 포인터 스타일을 변경할 수 있습니다.
   - 포인터 색상, 크기, 잔상 지속시간을 조정할 수 있습니다.

5. 앱은 자동으로 **수신 대기 상태**로 전환됩니다.
   - 화면 상단에 "Waiting for Connection..." 메시지가 표시됩니다.

### 1-2. 모바일 (송신기) 앱 실행

1. 모바일 기기에서 Flutter 프로젝트를 실행합니다:
   ```bash
   # 연결된 디바이스 확인
   flutter devices
   
   # 디바이스 선택 후 실행
   flutter run -d <device_id>
   ```

2. 앱이 실행되면 **설정 화면**이 표시됩니다.
   - IP 주소 입력 필드가 표시됩니다.
   - QR 코드 스캔 버튼이 표시됩니다.

---

## 2. 연결하기

### 2-1. QR 코드 스캔 방법 (권장)

1. 모바일 앱에서 **QR 코드 스캔 버튼**을 누릅니다.
2. 카메라가 열리면 PC 화면에 표시된 **QR 코드를 스캔**합니다.
3. IP 주소가 자동으로 입력되고 **연결 버튼**을 누릅니다.
4. 연결이 완료되면 자동으로 **제어 화면**으로 이동합니다.

### 2-2. IP 주소 직접 입력 방법

1. PC 화면에 표시된 **IP 주소**를 확인합니다 (예: `192.168.0.100`).
2. 모바일 앱의 **IP 주소 입력 필드**에 IP 주소를 입력합니다.
3. **연결 버튼**을 누릅니다.
4. 연결이 완료되면 자동으로 **제어 화면**으로 이동합니다.

### 2-3. 연결 확인

- **PC 화면**: 상단에 "Connected!" 메시지가 표시됩니다.
- **모바일 화면**: 제어 화면으로 자동 전환되며, 하단에 연결된 IP 주소가 표시됩니다.

---

## 3. 포인터 제어하기

### 3-1. 기본 조작

1. **포인터 이동**:
   - 스마트폰을 **기울여서** 포인터를 이동시킵니다.
   - 자이로스코프 센서를 사용하여 기기의 회전 각도를 감지합니다.
   - 기기를 앞으로 기울이면 포인터가 아래로 이동합니다.
   - 기기를 오른쪽으로 기울이면 포인터가 오른쪽으로 이동합니다.

2. **클릭하기**:
   - 화면 하단의 **"Tap to Click"** 영역을 터치합니다.
   - 터치하는 동안 포인터가 활성화되고 잔상이 생성됩니다.
   - 손을 떼면 클릭이 해제됩니다.

### 3-2. 제어 화면 구성

모바일 제어 화면은 다음과 같이 구성되어 있습니다:

- **상단**: 연결 상태 표시 및 뒤로가기 버튼
- **중앙**: 터치패드 영역 (포인터 위치 조정)
- **하단**: 
  - "Tap to Click" 영역 (클릭 제어)
  - 연결된 IP 주소 표시
  - 연결 해제 버튼

---

## 4. 포인터 옵션 설정

PC 앱에서 포인터의 스타일을 변경할 수 있습니다.

### 4-1. 옵션 화면 접근

1. PC 앱의 설정 화면에서 상단의 **설정 아이콘(⚙️)**을 클릭합니다.
2. 옵션 화면으로 이동합니다.

### 4-2. 설정 항목

#### 포인터 색상 (Pointer Color)
- 다양한 색상 옵션 중에서 선택할 수 있습니다.
- 색상 버튼을 클릭하면 Color Picker가 열립니다.
- 원하는 색상을 선택하면 즉시 적용됩니다.

#### 포인터 크기 (Pointer Size)
- 슬라이더를 조정하여 포인터 크기를 변경합니다.
- 범위: 10px ~ 50px
- 현재 크기가 숫자로 표시됩니다.

#### 잔상 지속시간 (Trail Duration)
- 터치 중일 때 생성되는 잔상이 사라지는 시간을 조정합니다.
- 범위: 100ms ~ 2000ms
- 현재 지속시간이 숫자로 표시됩니다.

---

## 5. 디스플레이 선택

### 5-1. 다중 모니터 환경

여러 모니터가 연결된 PC에서 사용하는 경우:

1. PC 설정 화면의 오른쪽에서 **모니터 선택 드롭다운**을 확인합니다.
2. 원하는 모니터를 선택합니다 (예: Display1, Display2).
3. 선택한 모니터에 포인터가 표시됩니다.

### 5-2. 디스플레이 변경

- 연결이 끊긴 후 다시 연결하면 선택한 모니터에 포인터가 표시됩니다.
- 설정 화면에서 언제든지 모니터를 변경할 수 있습니다.

---

## 6. 연결 해제하기

### 6-1. 모바일에서 연결 해제

1. 제어 화면 하단의 **"Disconnect"** 버튼을 누릅니다.
2. 또는 상단의 **뒤로가기 버튼(←)**을 누릅니다.
3. 자동으로 설정 화면으로 돌아갑니다.

### 6-2. 자동 연결 해제

- 일정 시간(약 2초) 동안 패킷이 수신되지 않으면 자동으로 연결이 해제됩니다.
- PC 화면은 자동으로 설정 화면으로 돌아갑니다.

---

## 7. 문제 해결 (Troubleshooting)

### 7-1. 연결이 안 될 때

**문제**: 모바일에서 PC로 연결이 되지 않습니다.

**해결 방법**:
1. **네트워크 확인**: 모바일과 PC가 **같은 Wi-Fi 네트워크**에 연결되어 있는지 확인합니다.
2. **방화벽 확인**: PC의 방화벽이 UDP 포트(50051)를 차단하지 않는지 확인합니다.
   - Windows: 방화벽 설정에서 앱을 허용합니다.
   - macOS: 시스템 설정 > 보안 및 개인 정보 보호에서 네트워크 권한을 확인합니다.
3. **IP 주소 확인**: PC 화면에 표시된 IP 주소가 올바른지 확인합니다.
4. **포트 확인**: 다른 프로그램이 포트 50051을 사용하고 있지 않은지 확인합니다.

### 7-2. 포인터가 움직이지 않을 때

**문제**: 연결은 되었지만 포인터가 움직이지 않습니다.

**해결 방법**:
1. **센서 권한 확인**: 모바일 기기에서 센서 사용 권한이 허용되어 있는지 확인합니다.
2. **앱 재시작**: 모바일 앱을 완전히 종료한 후 다시 실행합니다.
3. **기기 움직임 확인**: 스마트폰을 충분히 움직여서 센서가 정상적으로 작동하는지 확인합니다.

### 7-3. 포인터가 잘못된 모니터에 표시될 때

**문제**: 포인터가 원하는 모니터가 아닌 다른 모니터에 표시됩니다.

**해결 방법**:
1. PC 설정 화면에서 **모니터 선택 드롭다운**을 확인합니다.
2. 원하는 모니터를 선택합니다 (예: Display1, Display2).
3. 연결이 끊긴 후 다시 연결하면 선택한 모니터에 포인터가 표시됩니다.

### 7-4. 포인터가 너무 빠르게 움직일 때

**문제**: 스마트폰을 조금만 움직여도 포인터가 크게 움직입니다.

**해결 방법**:
- 현재 버전에서는 감도 조정 기능이 제공되지 않습니다.
- 부드럽게 기기를 움직이면 포인터가 더 정확하게 제어됩니다.

---

## 8. 주의사항

### 8-1. 네트워크 환경

- **동일 Wi-Fi 필수**: 모바일과 PC는 반드시 같은 Wi-Fi 네트워크에 연결되어 있어야 합니다.
- **방화벽 설정**: PC 방화벽에서 UDP 포트(50051)를 허용해야 합니다.

### 8-2. 배터리 및 성능

- **배터리 소모**: 센서를 지속적으로 사용하므로 배터리 소모가 있을 수 있습니다.
- **네트워크 사용량**: UDP 패킷은 작지만 지속적으로 전송되므로 일정한 네트워크 사용량이 발생합니다.

### 8-3. 사용 팁

- **안정적인 파지**: 스마트폰을 안정적으로 잡고 사용하면 포인터가 더 정확하게 제어됩니다.
- **연결 유지**: 사용 중에는 모바일 앱을 백그라운드로 보내지 않는 것이 좋습니다.
- **옵션 미리 설정**: 프레젠테이션 전에 포인터 옵션(색상, 크기 등)을 미리 설정해두면 편리합니다.

---

## 9. 고급 기능

### 9-1. 멀티 모니터 환경

- 여러 모니터가 연결된 경우, PC 설정 화면에서 원하는 모니터를 선택할 수 있습니다.
- 선택한 모니터에만 포인터가 표시됩니다.

### 9-2. 포인터 커스터마이징

- 포인터 색상, 크기, 잔상 지속시간을 자유롭게 조정할 수 있습니다.
- 설정은 앱 실행 중 유지되며, 앱을 종료하면 기본값으로 돌아갑니다.

---

## 10. 지원 플랫폼

### 10-1. 지원되는 플랫폼

- **모바일**: Android, iOS
- **PC**: Windows, macOS
- **지원하지 않음**: 웹(Web) 플랫폼

### 10-2. 시스템 요구사항

- **Flutter SDK**: Version 3.38.4 이상
- **네트워크**: Wi-Fi 연결 필수
- **센서**: 자이로스코프 센서가 있는 모바일 기기

---

## 11. 추가 도움말

더 자세한 정보는 다음 문서를 참고하세요:

- [요구사항 정의서](REQUIREMENTS.md)
- [기능 명세서](FUNCTIONAL_SPEC.md)
- [개발 이력](HISTORY.md)

